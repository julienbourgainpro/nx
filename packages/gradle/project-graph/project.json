{
  "name": "gradle-project-graph",
  "$schema": "node_modules/nx/schemas/project-schema.json",
  "targets": {
    "lint": {
      "command": "nx ktfmtCheck gradle-project-graph",
      "cache": true
    },
    "format": {
      "command": "nx ktfmtFormat gradle-project-graph",
      "cache": true
    },
    "publish-staging": {
      "command": "nx publish gradle-project-graph",
      "outputs": ["{projectRoot}/build/staging"]
    },
    "zip-staging": {
      "command": "zip -r ../deployment.zip .",
      "options": {
        "cwd": "{projectRoot}/build/staging"
      },
      "inputs": ["{projectRoot}/build/staging"],
      "outputs": ["{projectRoot}/build/deployment.zip"],
      "dependsOn": ["publish-staging"]
    },
    "maven": {
      "command": "npx ts-node publish-maven.ts --deploymentZipPath=build/deployment.zip",
      "options": {
        "cwd": "{projectRoot}"
      },
      "inputs": ["{projectRoot}/build/deployment.zip"],
      "dependsOn": ["zip-staging"]
    }
  }
}
